<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:TTronAlert.Desktop.ViewModels"
        x:Class="TTronAlert.Desktop.Views.AlertToastWindow"
        x:DataType="vm:AlertItemViewModel"
        SystemDecorations="None"
        TransparencyLevelHint="None"
        Background="Transparent"
        CanResize="False"
        ShowInTaskbar="False"
        Topmost="True"
        Width="420"
        Height="120"
        WindowStartupLocation="Manual">
    <Border x:Name="ToastBorder"
            Background="#FFFFFF"
            BorderBrush="#4A0E80"
            BorderThickness="1"
            CornerRadius="10"
            Padding="12"
            Opacity="0"
            ClipToBounds="True">
        <Border.Transitions>
            <Transitions>
                <DoubleTransition Property="Opacity" Duration="0:0:0.3" Easing="QuadraticEaseInOut"/>
                <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.3" Easing="QuadraticEaseInOut"/>
            </Transitions>
        </Border.Transitions>
        <Border.RenderTransform>
            <TranslateTransform X="400" Y="0"/>
        </Border.RenderTransform>
        <Grid ColumnDefinitions="Auto,*,Auto" RowDefinitions="Auto,*">
            <Image Grid.RowSpan="2"
                   Grid.Column="0"
                   Source="avares://TTronAlert.Desktop/Assets/logo.png"
                   Width="48"
                   Height="48"
                   Margin="0,0,12,0"/>
            <TextBlock Grid.Column="1" Grid.Row="0"
                       Text="{Binding Title}"
                       FontSize="16"
                       FontWeight="Bold"
                       FontFamily="Arial"
                       Foreground="#000000"
                       TextWrapping="Wrap"/>
            <TextBlock Grid.Column="1" Grid.Row="1"
                       Text="{Binding Message}"
                       FontSize="13"
                       FontFamily="Arial"
                       Foreground="#000000"
                       TextWrapping="Wrap"
                       MaxHeight="60"/>
            <StackPanel Grid.Column="2" Grid.Row="0" Grid.RowSpan="2" Orientation="Vertical" HorizontalAlignment="Right" VerticalAlignment="Top" Spacing="6">
                <Border Classes.info="{Binding IsInfo}"
                        Classes.warning="{Binding IsWarning}"
                        Classes.critical="{Binding IsCritical}"
                        BorderBrush="#FFFFFF"
                        BorderThickness="1"
                        CornerRadius="6"
                        Padding="8"
                        HorizontalAlignment="Right">
                    <TextBlock Text="{Binding LevelText}" FontSize="12" FontFamily="Arial" Foreground="#FFFFFF"/>
                </Border>
                <Border Background="#FFFFFF"
                        BorderBrush="#4A0E80"
                        BorderThickness="1"
                        CornerRadius="6"
                        Padding="8"
                        HorizontalAlignment="Right">
                    <TextBlock Text="{Binding TimeAgo}" FontSize="12" FontFamily="Arial" Foreground="#000000"/>
                </Border>
            </StackPanel>
            
            <!-- Bouton de fermeture 'x' dans le coin supÃ©rieur droit -->
            <Button Grid.Column="2" Grid.Row="0"
                    Content="x"
                    Width="20"
                    Height="20"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="0, -10, -10, 0"
                    Background="#FF2B80"
                    BorderThickness="0"
                    FontSize="14"
                    FontWeight="Bold"
                    FontFamily="Arial"
                    Foreground="#111111"
                    Click="CloseButton_Click"/>
            
           
        </Grid>
    </Border>
</Window>